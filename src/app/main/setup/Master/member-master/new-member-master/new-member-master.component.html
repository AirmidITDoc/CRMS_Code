<div fxlayout="row" fxFlex.gt-sm="100%" fxFlex class="page-layout simple right-sidebar">
    <div class="center" fusePerfectScrollbar style="overflow: auto;">
        <div class="dialog-content-wrapper">
            <mat-toolbar matDialogTitle class="mat-accent m-0">
              <mat-toolbar-row fxLayout="row" fxLayoutAlign="space-between center"
                style="background-color: #125786 !important;">
                <h3>{{_MemberMasterService.personalFormGroup.controls.MemberId.value?"Modify Member Master":"New
                    Member Master"}}</h3>
                <button mat-icon-button (click)="onClose()" tabIndex="-1" aria-label="Close dialog">
                  <mat-icon>close</mat-icon>
                </button>
              </mat-toolbar-row>
            </mat-toolbar>
          </div>
          

        <div style="padding:10px; height: 100%;" fxLayoutGap="2px">
            <div class="dialog-content-wrapper" style="align-items: flex-end;margin-right:10px;">
                <div style="padding: 7px;">
                    <form [formGroup]="_MemberMasterService.personalFormGroup">
                        <input type="hidden" name="MemberId" formControlName="MemberId">


                        <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="4px" >

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>First Name</mat-label>
                                <input name="FirstName" formControlName="FirstName" placeholder="First Name" matInput
                                    required type="text" >
                                <mat-error
                                    *ngIf="_MemberMasterService.personalFormGroup.get('FirstName').invalid && _MemberMasterService.personalFormGroup.get('FirstName').touched">
                                    First Name is required Enter only
                                    Alphabets</mat-error>
                            </mat-form-field>



                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Middle Name</mat-label>
                                <input name="MiddleName" formControlName="MiddleName" placeholder="Middle Name" matInput
                                    type="text">
                                <mat-error class="error"
                                    *ngIf="_MemberMasterService.personalFormGroup.get('MiddleName').invalid && _MemberMasterService.personalFormGroup.get('MiddleName').touched">
                                    Middle Name is required
                                    Enter
                                    only Alphabets</mat-error>
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Last Name</mat-label>
                                <input name="LastName" formControlName="LastName" placeholder="Last Name" matInput
                                    required onkeypress=" (event.charCode > 64 && 
                              event.charCode < 91) || (event.charCode > 96 && event.charCode < 123)">
                                <mat-error class="error"
                                    *ngIf="_MemberMasterService.personalFormGroup.get('LastName').invalid && _MemberMasterService.personalFormGroup.get('LastName').touched">Last
                                    Name is required Enter
                                    only
                                    Alphabets</mat-error>
                            </mat-form-field>
                        </div>



                        <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="4px">
                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Member Address</mat-label>
                                <input name="Member_Address" formControlName="Member_Address"
                                    placeholder="Member_Address" matInput >
                                <mat-error
                                    *ngIf="_MemberMasterService.personalFormGroup.get('Member_Address').invalid && _MemberMasterService.personalFormGroup.get('Member_Address').touched">Please
                                    enter Address </mat-error>
                            </mat-form-field>





                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>City</mat-label>
                                <mat-select formControlName="CityId" placeholder="Bank" #singleSelect required
                                 >
                                  <mat-option>
                                    <ngx-mat-select-search [formControl]="cityFilterCtrl"  [placeholderLabel]="'Search'"
                                    [noEntriesFoundLabel]="'No matching found'"></ngx-mat-select-search>
                                  </mat-option>
                                  <mat-option *ngFor="let element of filteredCity | async" [value]="element">
                                    {{element.CityName}}
                                  </mat-option>
                                </mat-select>
                                <mat-error *ngIf="_MemberMasterService.personalFormGroup.get('CityId').invalid && _MemberMasterService.personalFormGroup.get('CityId').touched">
                                  City Name is required</mat-error>
                              </mat-form-field>


                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>PinCode Number</mat-label>
                                <input name="PinCode" formControlName="PinCode" placeholder="PinCode Number" matInput
                                    appCharmaxLength="6" type="number" value="">
                                <!-- <mat-error class="error"
                              *ngIf="_MemberMasterService.personalFormGroup.get('PhoneNo').invalid && _MemberMasterService.personalFormGroup.get('PhoneNo').touched">Phone
                              number is required
                            </mat-error> -->
                            </mat-form-field>


                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Mobile Number</mat-label>
                                <input name="MobileNo" formControlName="MobileNo" placeholder="Mobile Number" matInput
                                    required minlength="10" maxlength="10" type="number">
                                <mat-error class="error"
                                    *ngIf="_MemberMasterService.personalFormGroup.get('MobileNo').invalid && _MemberMasterService.personalFormGroup.get('MobileNo').touched">10
                                    digits Mobile number is
                                    required</mat-error>
                            </mat-form-field>
                        </div>



                        <div fxFlexFill fxLayout="column" fxLayout.gt-xs="row" fxLayoutGap="4px">

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Email Id </mat-label>
                                <input name="EmailId" formControlName="EmailId" placeholder="EmailId" matInput >
                                <!-- <mat-error class="error"
                                  *ngIf="_MemberMasterService.personalFormGroup.get('PhoneNo').invalid && _MemberMasterService.personalFormGroup.get('PhoneNo').touched">Phone
                                  number is required
                                </mat-error> -->
                            </mat-form-field>

                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Study Amount</mat-label>
                                <input name="StudyAmount" formControlName="StudyAmount" placeholder="Study Amount"
                                    matInput required required="required" type="number">
                                <mat-error class="error"
                                    *ngIf="_MemberMasterService.personalFormGroup.get('StudyAmount').invalid && _MemberMasterService.personalFormGroup.get('StudyAmount').touched">10
                                    digits Mobile number is
                                    required</mat-error>
                            </mat-form-field>


                        </div>

                        <div style="float: right;">
                          
                            <button class="next-btn" color="accent" (click)="onSubmit()"
                              style="border-radius: 16px;margin-top: 100px;">
                              <span style="display: flex;justify-content: center;">
                                <!-- <mat-spinner *ngIf="isLoading=='submit'" [color]="white" [diameter]="20"></mat-spinner> -->
                                <span style="margin-left: 6px;">Save</span>
                              </span>
                            </button>
              
                            <button class="footer-btn" (click)="onClose()">Cancel</button>
                            &nbsp;
                          </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>


<div id="snackbar">{{snackmessage}}</div>